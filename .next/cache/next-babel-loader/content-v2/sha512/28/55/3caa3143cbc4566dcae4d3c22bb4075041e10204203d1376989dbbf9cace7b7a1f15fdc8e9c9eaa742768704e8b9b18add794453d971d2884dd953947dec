{"ast":null,"code":"import prisma from \"../../../prisma/client\";\nexport default async function userHandler(req, res) {\n  if (req.method === \"GET\") {\n    try {\n      const tracks = await prisma.track.findMany({\n        orderBy: {\n          id: \"desc\"\n        }\n      });\n      await prisma.$disconnect();\n      res.status(200).json(tracks);\n    } catch (error) {\n      res.status(500).json(error);\n    }\n  }\n}","map":{"version":3,"sources":["/home/jidayyy/francebleu/pages/api/count/index.ts"],"names":["prisma","userHandler","req","res","method","tracks","track","findMany","orderBy","id","$disconnect","status","json","error"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,wBAAnB;AAGA,eAAe,eAAeC,WAAf,CACXC,GADW,EAEXC,GAFW,EAGE;AACb,MAAID,GAAG,CAACE,MAAJ,KAAe,KAAnB,EAA0B;AACtB,QAAI;AACA,YAAMC,MAAM,GAAG,MAAML,MAAM,CAACM,KAAP,CAAaC,QAAb,CAAsB;AACvCC,QAAAA,OAAO,EAAE;AACLC,UAAAA,EAAE,EAAE;AADC;AAD8B,OAAtB,CAArB;AAKA,YAAMT,MAAM,CAACU,WAAP,EAAN;AACAP,MAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBP,MAArB;AACH,KARD,CAQE,OAAOQ,KAAP,EAAc;AACZV,MAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBC,KAArB;AACH;AACJ;AACJ","sourcesContent":["import prisma from \"../../../prisma/client\";\nimport type { NextApiRequest, NextApiResponse } from \"next\";\n\nexport default async function userHandler(\n    req: NextApiRequest,\n    res: NextApiResponse<unknown>,\n): Promise<void> {\n    if (req.method === \"GET\") {\n        try {\n            const tracks = await prisma.track.findMany({\n                orderBy: {\n                    id: \"desc\",\n                },\n            });\n            await prisma.$disconnect();\n            res.status(200).json(tracks);\n        } catch (error) {\n            res.status(500).json(error);\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}